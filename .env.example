# Launchpad Configuration
# Copy this file to .env and customize as needed.
# All values shown are defaults (except where noted).

# =============================================================================
# Server Configuration
# =============================================================================

# Port to listen on (1-65535)
LAUNCHPAD_PORT=8080

# Path to SQLite database file
LAUNCHPAD_DB=launchpad.db

# Path to apps.json for initial database seeding (optional)
# LAUNCHPAD_SEED=apps.json

# =============================================================================
# Branding Configuration
# =============================================================================

# Path to branding configuration JSON file
LAUNCHPAD_CONFIG=branding.json

# Logo URL for the application header (optional)
# LAUNCHPAD_LOGO_URL=https://example.com/logo.png

# Primary brand color (hex format: #RRGGBB)
LAUNCHPAD_PRIMARY_COLOR=#398D9B

# Secondary brand color (hex format: #RRGGBB)
LAUNCHPAD_SECONDARY_COLOR=#4AB7C3

# Tenant/organization name displayed in the UI
LAUNCHPAD_TENANT_NAME=Launchpad

# =============================================================================
# Kubernetes Configuration
# =============================================================================

# Kubernetes namespace for session pods
# Falls back to in-cluster namespace if running in Kubernetes, then "default"
LAUNCHPAD_NAMESPACE=default

# Path to kubeconfig file (optional, uses in-cluster config if available)
# KUBECONFIG=~/.kube/config

# VNC sidecar container image for container sessions
LAUNCHPAD_VNC_SIDECAR_IMAGE=ghcr.io/rjsadow/launchpad-vnc-sidecar:latest

# =============================================================================
# Session Configuration
# =============================================================================

# Session timeout in minutes (sessions older than this are cleaned up)
# Default: 120 (2 hours)
LAUNCHPAD_SESSION_TIMEOUT=120

# Interval between session cleanup runs in minutes
# Default: 5
LAUNCHPAD_SESSION_CLEANUP_INTERVAL=5

# Timeout for waiting for pod to become ready in seconds
# Default: 120 (2 minutes)
LAUNCHPAD_POD_READY_TIMEOUT=120

# =============================================================================
# Resource Limits & Quotas
# =============================================================================

# Maximum concurrent sessions per user (0 = unlimited, default: 5)
LAUNCHPAD_MAX_SESSIONS_PER_USER=5

# Maximum concurrent sessions globally (0 = unlimited, default: 100)
LAUNCHPAD_MAX_GLOBAL_SESSIONS=100

# Default CPU request for new sessions (Kubernetes resource format)
LAUNCHPAD_DEFAULT_CPU_REQUEST=500m

# Default CPU limit for new sessions
LAUNCHPAD_DEFAULT_CPU_LIMIT=2

# Default memory request for new sessions
LAUNCHPAD_DEFAULT_MEM_REQUEST=512Mi

# Default memory limit for new sessions
LAUNCHPAD_DEFAULT_MEM_LIMIT=2Gi

# =============================================================================
# JWT Authentication Configuration
# =============================================================================

# JWT signing secret (required for authentication, minimum 32 characters)
# Generate a secure secret: openssl rand -base64 32
# LAUNCHPAD_JWT_SECRET=your-32-character-secret-key-here

# Access token expiry in minutes (default: 15)
# LAUNCHPAD_JWT_ACCESS_EXPIRY=15

# Refresh token expiry in hours (default: 24)
# LAUNCHPAD_JWT_REFRESH_EXPIRY=24

# Initial admin username (default: admin)
# LAUNCHPAD_ADMIN_USERNAME=admin

# Initial admin password (required to create admin user on first run)
# LAUNCHPAD_ADMIN_PASSWORD=your-secure-password

# Allow user self-registration (default: false)
# Can be overridden by admin in the UI
# LAUNCHPAD_ALLOW_REGISTRATION=false

# =============================================================================
# OIDC/SSO Configuration (Optional)
# =============================================================================
# Configure these to enable "Sign in with SSO" alongside local login.
# Supports any OIDC-compliant provider: Auth0, Keycloak, Entra ID, Okta, etc.
# Requires LAUNCHPAD_JWT_SECRET to also be set (used for local JWT issuance).

# OIDC Issuer URL (provider's base URL, must support .well-known/openid-configuration)
# Examples:
#   Auth0:    https://your-tenant.auth0.com/
#   Keycloak: https://keycloak.example.com/realms/your-realm
#   Entra ID: https://login.microsoftonline.com/{tenant-id}/v2.0
#   Okta:     https://your-org.okta.com/oauth2/default
# LAUNCHPAD_OIDC_ISSUER=https://your-provider.example.com

# OIDC Client ID (from your identity provider's application registration)
# LAUNCHPAD_OIDC_CLIENT_ID=your-client-id

# OIDC Client Secret (from your identity provider's application registration)
# LAUNCHPAD_OIDC_CLIENT_SECRET=your-client-secret

# OIDC Redirect URL (must match the callback URL registered with your provider)
# Default format: https://your-launchpad-domain/api/auth/oidc/callback
# LAUNCHPAD_OIDC_REDIRECT_URL=https://launchpad.example.com/api/auth/oidc/callback

# OIDC Scopes (comma-separated, default: openid,profile,email)
# Add "groups" scope if your provider supports group claims for role mapping
# LAUNCHPAD_OIDC_SCOPES=openid,profile,email

# =============================================================================
# Secrets Management Configuration
# =============================================================================
# Launchpad supports external secret stores for sensitive configuration.
# Supported providers: env (default), vault, aws, kubernetes

# Secret provider to use (env, vault, aws, kubernetes)
# Default: env (reads from environment variables)
# LAUNCHPAD_SECRETS_PROVIDER=env

# -----------------------------------------------------------------------------
# HashiCorp Vault Configuration (when LAUNCHPAD_SECRETS_PROVIDER=vault)
# -----------------------------------------------------------------------------

# Vault server address
# LAUNCHPAD_VAULT_ADDR=http://vault:8200
# Or use the standard Vault environment variable:
# VAULT_ADDR=http://vault:8200

# Vault token for authentication (optional if using other auth methods)
# LAUNCHPAD_VAULT_TOKEN=s.xxxxx
# Or use the standard Vault environment variable:
# VAULT_TOKEN=s.xxxxx

# KV secrets engine mount path
# Default: secret
# LAUNCHPAD_VAULT_MOUNT_PATH=secret

# Vault namespace (Vault Enterprise only)
# LAUNCHPAD_VAULT_NAMESPACE=admin
# Or: VAULT_NAMESPACE=admin

# -----------------------------------------------------------------------------
# AWS Secrets Manager Configuration (when LAUNCHPAD_SECRETS_PROVIDER=aws)
# -----------------------------------------------------------------------------

# AWS region for Secrets Manager
# LAUNCHPAD_AWS_REGION=us-east-1
# Or use standard AWS environment variables:
# AWS_REGION=us-east-1
# AWS_DEFAULT_REGION=us-east-1

# Prefix for secret names in AWS Secrets Manager
# Secrets are looked up as: {prefix}/{key}
# LAUNCHPAD_AWS_SECRET_PREFIX=launchpad

# AWS credentials (uses standard AWS credential chain if not set)
# AWS_ACCESS_KEY_ID=AKIA...
# AWS_SECRET_ACCESS_KEY=...
# AWS_SESSION_TOKEN=... (for temporary credentials)

# -----------------------------------------------------------------------------
# Kubernetes Secrets Configuration (when LAUNCHPAD_SECRETS_PROVIDER=kubernetes)
# -----------------------------------------------------------------------------

# Name of the Kubernetes Secret to read from (required for k8s provider)
# LAUNCHPAD_K8S_SECRET_NAME=launchpad-secrets

# Namespace where the secret is located
# Default: current namespace (from service account) or "default"
# LAUNCHPAD_K8S_SECRET_NAMESPACE=default

# Path to kubeconfig (optional, uses in-cluster config by default)
# KUBECONFIG=~/.kube/config
